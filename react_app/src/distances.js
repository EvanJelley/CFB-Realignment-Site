import * as turf from '@turf/turf';
import { point } from 'leaflet';
import * as MathUtils from 'math-utils';

function radians(degrees) {
    return degrees * (Math.PI / 180);
}

function degrees(radians) {
    return radians * (180 / Math.PI);
}

function pointToPointCalc(lat1, lon1, lat2, lon2, type) {
    /**
     * Calculate the distance between two points on the earth's surface
     * @param {number} lat1, lat2, lon1, lon2 - latitude and longitude of the two points (should be in radians)
     * @param {string} type - radians or degrees
     * @return {number} distance between the two points (in miles)
     */
    if (type === 'degrees') {
        lat1 = lat1 * Math.PI / 180;
        lon1 = lon1 * Math.PI / 180;
        lat2 = lat2 * Math.PI / 180;
        lon2 = lon2 * Math.PI / 180;
    }
    const R = 3958.8; // radius of the earth in miles
    if (Math.abs(lat1 - lat2) < .00000001 && Math.abs(lon1 - lon2) < .00000001) {
        return 0;
    }
    const distance = Math.acos(Math.sin(lat1) * Math.sin(lat2) + Math.cos(lat1) * Math.cos(lat2) * Math.cos(lon1 - lon2)) * R;
    return distance;
}

function distanceCalc(main, points, type) {
    /**
     * Calculate the distance between a point and a set of points
     * @param {Array} main - an array with the latitude and longitude of the main point
     * @param {Array} points - an array of arrays with the latitude and longitude of the set of points
     * @return {number} the total distance between the main point and the set of points
     */
    let distance = 0;
    for (let point of points) {
        distance += pointToPointCalc(main[0], main[1], point[0], point[1], type);
    }
    return distance;
}

function averageDistanceCalc(main, points, type) {
    /**
     * Calculate the average distance between a point and a set of points
     * @param {Array} main - an array with the latitude and longitude of the main point
     * @param {Array} points - an array of arrays with the latitude and longitude of the set of points
     * @return {number} the average distance between the main point and the set of points
     */
    return distanceCalc(main, points, type) / points.length;
}

function generate_test_points(lat, lon, distance) {
    const R = 6371.0; // Earth's radius in kilometers
    const bearings = [0, 45, 90, 135, 180, 225, 270, 315]; // Bearings in degrees

    const test_points = [];
    for (const bearing of bearings) {
        // Convert bearing to radians
        const brng_rad = bearing * Math.PI / 180;

        // Calculate the new latitude
        const new_lat = Math.asin(Math.sin(lat) * Math.cos(distance / R) +
            Math.cos(lat) * Math.sin(distance / R) * Math.cos(brng_rad));

        // Calculate the new longitude
        const new_lon = lon + Math.atan2(Math.sin(brng_rad) * Math.sin(distance / R) * Math.cos(lat),
            Math.cos(distance / R) - Math.sin(lat) * Math.sin(new_lat));

        // Append new point to the list
        test_points.push([new_lat, new_lon]);
    }

    return test_points;
}

function calculateGeoCenter(points) {
    /**
     * Calculate the geographic center of a set of points
     * @param {Array} points - an array of arrays with the latitude and longitude of the set of points
     * @return {Array} the latitude and longitude of the geographic center
     */

    // Calculate initial center
    let x = [];
    let y = [];
    let z = [];
    let radianPoints = [];
    for (let point of points) {
        let latitude = radians(point[0]);
        let longitude = radians(point[1]);
        radianPoints.push([latitude, longitude]);
        x.push(Math.cos(latitude) * Math.cos(longitude));
        y.push(Math.cos(latitude) * Math.sin(longitude));
        z.push(Math.sin(latitude));
    }
    x = x.reduce((a, b) => a + b, 0) / x.length;
    y = y.reduce((a, b) => a + b, 0) / y.length;
    z = z.reduce((a, b) => a + b, 0) / z.length;
    let centralLongitude = Math.atan2(y, x);
    let centralSquareRoot = Math.sqrt(x * x + y * y);
    let centralLatitude = Math.atan2(z, centralSquareRoot);

    // Iterate to find better center
    let currentPoint = [centralLatitude, centralLongitude];
    let totDistance = distanceCalc(currentPoint, radianPoints, 'radians');

    // Test points for a better center
    for (let point of radianPoints) {
        let newDistance = distanceCalc(point, radianPoints, 'radians');
        if (newDistance < totDistance) {
            currentPoint = point;
            totDistance = newDistance;
        }
    }

    let testDistance = 10018 / 6371.0;
    while (testDistance > 0.000000002) {
        let testPoints = generate_test_points(currentPoint[0], currentPoint[1], testDistance);
        let newPointFlag = false;
        for (let point of testPoints) {
            let testPointDistance = distanceCalc(point, radianPoints, 'radians');
            if (testPointDistance < totDistance) {
                currentPoint = point;
                totDistance = testPointDistance;
                newPointFlag = true;
            }
        }
        if (!newPointFlag) {
            testDistance = testDistance / 2;
        }
    }

    currentPoint = [degrees(currentPoint[0]), degrees(currentPoint[1])];
    return currentPoint;
}

function avgDistanceFromCenter(points) {
    const center = calculateGeoCenter(points);
    const distances = points.map(point => pointToPointCalc(center[0], center[1], point[0], point[1], 'degrees'));
    return distances.reduce((a, b) => a + b, 0) / distances.length;
}

function averagedistanceCalcMultiPoints(points, type) {
    /**
     * Calculates the average distance between each other for a set of points
     * @param {*} points - and array with the latitude and longitude of the set of points
     * @returns the average distance of the set of points
     */
    let averageDistances = [];
    console.log(points)
    for (let main of points) {
        const otherPoints = points.filter(p => p !== main);
        console.log(main, otherPoints)
        averageDistances.push(averageDistanceCalc(main, otherPoints, type));
    }
    return averageDistances.reduce((a, b) => a + b, 0) / averageDistances.length;
}

function calculateConvexHull(points) {
    const pointsFeatureCollection = turf.featureCollection(points.map(point => turf.point(point)));
    const hull = turf.convex(pointsFeatureCollection);
    return hull ? hull.geometry.coordinates[0] : [];
}

function findCapital(geoCenter) {
    const MAJORCITIES = [{ 'id': 1000, 'city': 'New York', 'state': 'NY', 'latitude': 40.66, 'longitude': -73.94 }, { 'id': 1001, 'city': 'Los Angeles', 'state': 'CA', 'latitude': 34.02, 'longitude': -118.41 }, { 'id': 1002, 'city': 'Chicago', 'state': 'IL', 'latitude': 41.84, 'longitude': -87.68 }, { 'id': 1003, 'city': 'Houston', 'state': 'TX', 'latitude': 29.79, 'longitude': -95.39 }, { 'id': 1004, 'city': 'Phoenix', 'state': 'AZ', 'latitude': 33.57, 'longitude': -112.09 }, { 'id': 1005, 'city': 'Philadelphia', 'state': 'PA', 'latitude': 40.01, 'longitude': -75.13 }, { 'id': 1006, 'city': 'San Antonio', 'state': 'TX', 'latitude': 29.46, 'longitude': -98.52 }, { 'id': 1007, 'city': 'San Diego', 'state': 'CA', 'latitude': 32.81, 'longitude': -117.14 }, { 'id': 1008, 'city': 'Dallas', 'state': 'TX', 'latitude': 32.79, 'longitude': -96.77 }, { 'id': 1009, 'city': 'Austin', 'state': 'TX', 'latitude': 30.3, 'longitude': -97.75 }, { 'id': 1010, 'city': 'Jacksonville', 'state': 'FL', 'latitude': 30.34, 'longitude': -81.66 }, { 'id': 1011, 'city': 'San Jose', 'state': 'CA', 'latitude': 37.3, 'longitude': -121.81 }, { 'id': 1012, 'city': 'Fort Worth', 'state': 'TX', 'latitude': 32.78, 'longitude': -97.35 }, { 'id': 1013, 'city': 'Columbus', 'state': 'OH', 'latitude': 39.99, 'longitude': -82.99 }, { 'id': 1014, 'city': 'Charlotte', 'state': 'NC', 'latitude': 35.21, 'longitude': -80.83 }, { 'id': 1015, 'city': 'Indianapolis', 'state': 'IN', 'latitude': 39.78, 'longitude': -86.15 }, { 'id': 1016, 'city': 'San Francisco', 'state': 'CA', 'latitude': 37.73, 'longitude': -123.03 }, { 'id': 1017, 'city': 'Seattle', 'state': 'WA', 'latitude': 47.62, 'longitude': -122.35 }, { 'id': 1018, 'city': 'Denver', 'state': 'CO', 'latitude': 39.76, 'longitude': -104.88 }, { 'id': 1019, 'city': 'Oklahoma City', 'state': 'OK', 'latitude': 35.47, 'longitude': -97.51 }, { 'id': 1020, 'city': 'Nashville', 'state': 'TN', 'latitude': 36.17, 'longitude': -86.79 }, { 'id': 1021, 'city': 'El Paso', 'state': 'TX', 'latitude': 31.85, 'longitude': -106.43 }, { 'id': 1022, 'city': 'Washington', 'state': 'DC', 'latitude': 38.9, 'longitude': -77.02 }, { 'id': 1023, 'city': 'Las Vegas', 'state': 'NV', 'latitude': 36.23, 'longitude': -115.26 }, { 'id': 1024, 'city': 'Boston', 'state': 'MA', 'latitude': 42.34, 'longitude': -71.02 }, { 'id': 1025, 'city': 'Portland', 'state': 'OR', 'latitude': 45.54, 'longitude': -122.65 }, { 'id': 1026, 'city': 'Louisville', 'state': 'KY', 'latitude': 38.17, 'longitude': -85.65 }, { 'id': 1027, 'city': 'Memphis', 'state': 'TN', 'latitude': 35.11, 'longitude': -89.97 }, { 'id': 1028, 'city': 'Detroit', 'state': 'MI', 'latitude': 42.38, 'longitude': -83.1 }, { 'id': 1029, 'city': 'Baltimore', 'state': 'MD', 'latitude': 39.3, 'longitude': -76.61 }, { 'id': 1030, 'city': 'Milwaukee', 'state': 'WI', 'latitude': 43.06, 'longitude': -87.97 }, { 'id': 1031, 'city': 'Albuquerque', 'state': 'NM', 'latitude': 35.1, 'longitude': -106.65 }, { 'id': 1032, 'city': 'Tucson', 'state': 'AZ', 'latitude': 32.15, 'longitude': -110.87 }, { 'id': 1033, 'city': 'Fresno', 'state': 'CA', 'latitude': 36.78, 'longitude': -119.79 }, { 'id': 1034, 'city': 'Sacramento', 'state': 'CA', 'latitude': 38.57, 'longitude': -121.47 }, { 'id': 1035, 'city': 'Mesa', 'state': 'AZ', 'latitude': 33.4, 'longitude': -111.72 }, { 'id': 1036, 'city': 'Kansas City', 'state': 'MO', 'latitude': 39.12, 'longitude': -94.56 }, { 'id': 1037, 'city': 'Atlanta', 'state': 'GA', 'latitude': 33.76, 'longitude': -84.42 }, { 'id': 1038, 'city': 'Colorado Springs', 'state': 'CO', 'latitude': 38.87, 'longitude': -104.76 }, { 'id': 1039, 'city': 'Omaha', 'state': 'NE', 'latitude': 41.26, 'longitude': -96.05 }, { 'id': 1040, 'city': 'Raleigh', 'state': 'NC', 'latitude': 35.83, 'longitude': -78.64 }, { 'id': 1041, 'city': 'Virginia Beach', 'state': 'VA', 'latitude': 36.78, 'longitude': -76.03 }, { 'id': 1042, 'city': 'Long Beach', 'state': 'CA', 'latitude': 33.78, 'longitude': -118.17 }, { 'id': 1043, 'city': 'Miami', 'state': 'FL', 'latitude': 25.78, 'longitude': -80.21 }, { 'id': 1044, 'city': 'Oakland', 'state': 'CA', 'latitude': 37.77, 'longitude': -122.23 }, { 'id': 1045, 'city': 'Minneapolis', 'state': 'MN', 'latitude': 44.96, 'longitude': -93.27 }, { 'id': 1046, 'city': 'Tulsa', 'state': 'OK', 'latitude': 36.13, 'longitude': -95.9 }, { 'id': 1047, 'city': 'Bakersfield', 'state': 'CA', 'latitude': 35.35, 'longitude': -119.04 }, { 'id': 1048, 'city': 'Tampa', 'state': 'FL', 'latitude': 27.97, 'longitude': -82.47 }, { 'id': 1049, 'city': 'Wichita', 'state': 'KS', 'latitude': 37.69, 'longitude': -97.35 }, { 'id': 1050, 'city': 'Arlington', 'state': 'TX', 'latitude': 32.7, 'longitude': -97.12 }, { 'id': 1051, 'city': 'Aurora', 'state': 'CO', 'latitude': 39.7, 'longitude': -104.72 }, { 'id': 1052, 'city': 'New Orleans', 'state': 'LA', 'latitude': 30.05, 'longitude': -89.93 }, { 'id': 1053, 'city': 'Cleveland', 'state': 'OH', 'latitude': 41.48, 'longitude': -81.68 }, { 'id': 1054, 'city': 'Anaheim', 'state': 'CA', 'latitude': 33.86, 'longitude': -117.76 }, { 'id': 1055, 'city': 'Honolulu', 'state': 'HI', 'latitude': 21.32, 'longitude': -157.85 }, { 'id': 1056, 'city': 'Henderson', 'state': 'NV', 'latitude': 36.01, 'longitude': -115.04 }, { 'id': 1057, 'city': 'Stockton', 'state': 'CA', 'latitude': 37.98, 'longitude': -121.31 }, { 'id': 1058, 'city': 'Riverside', 'state': 'CA', 'latitude': 33.94, 'longitude': -117.39 }, { 'id': 1059, 'city': 'Lexington', 'state': 'KY', 'latitude': 38.04, 'longitude': -84.46 }, { 'id': 1060, 'city': 'Corpus Christi', 'state': 'TX', 'latitude': 27.75, 'longitude': -97.17 }, { 'id': 1061, 'city': 'Orlando', 'state': 'FL', 'latitude': 28.41, 'longitude': -81.25 }, { 'id': 1062, 'city': 'Irvine', 'state': 'CA', 'latitude': 33.68, 'longitude': -117.77 }, { 'id': 1063, 'city': 'Cincinnati', 'state': 'OH', 'latitude': 39.14, 'longitude': -84.51 }, { 'id': 1064, 'city': 'Santa Ana', 'state': 'CA', 'latitude': 33.74, 'longitude': -117.88 }, { 'id': 1065, 'city': 'Newark', 'state': 'NJ', 'latitude': 40.72, 'longitude': -74.17 }, { 'id': 1066, 'city': 'Saint Paul', 'state': 'MN', 'latitude': 44.95, 'longitude': -93.1 }, { 'id': 1067, 'city': 'Pittsburgh', 'state': 'PA', 'latitude': 40.44, 'longitude': -79.98 }, { 'id': 1068, 'city': 'Greensboro', 'state': 'NC', 'latitude': 36.1, 'longitude': -79.83 }, { 'id': 1069, 'city': 'Lincoln', 'state': 'NE', 'latitude': 40.81, 'longitude': -96.68 }, { 'id': 1070, 'city': 'Durham', 'state': 'NC', 'latitude': 35.98, 'longitude': -78.9 }, { 'id': 1071, 'city': 'Plano', 'state': 'TX', 'latitude': 33.05, 'longitude': -96.75 }, { 'id': 1072, 'city': 'Anchorage', 'state': 'AK', 'latitude': 61.17, 'longitude': -149.28 }, { 'id': 1073, 'city': 'Jersey City', 'state': 'NJ', 'latitude': 40.71, 'longitude': -74.06 }, { 'id': 1074, 'city': 'St. Louis', 'state': 'MO', 'latitude': 38.64, 'longitude': -90.24 }, { 'id': 1075, 'city': 'Chandler', 'state': 'AZ', 'latitude': 33.28, 'longitude': -111.85 }, { 'id': 1076, 'city': 'North Las Vegas', 'state': 'NV', 'latitude': 36.28, 'longitude': -115.09 }, { 'id': 1077, 'city': 'Chula Vista', 'state': 'CA', 'latitude': 32.63, 'longitude': -117.02 }, { 'id': 1078, 'city': 'Buffalo', 'state': 'NY', 'latitude': 42.89, 'longitude': -78.86 }, { 'id': 1079, 'city': 'Gilbert', 'state': 'AZ', 'latitude': 33.31, 'longitude': -111.74 }, { 'id': 1080, 'city': 'Reno', 'state': 'NV', 'latitude': 39.55, 'longitude': -119.85 }, { 'id': 1081, 'city': 'Madison', 'state': 'WI', 'latitude': 43.09, 'longitude': -89.43 }, { 'id': 1082, 'city': 'Fort Wayne', 'state': 'IN', 'latitude': 41.09, 'longitude': -85.14 }, { 'id': 1083, 'city': 'Toledo', 'state': 'OH', 'latitude': 41.66, 'longitude': -83.58 }, { 'id': 1084, 'city': 'Lubbock', 'state': 'TX', 'latitude': 33.57, 'longitude': -101.89 }, { 'id': 1085, 'city': 'St. Petersburg', 'state': 'FL', 'latitude': 27.77, 'longitude': -82.64 }, { 'id': 1086, 'city': 'Laredo', 'state': 'TX', 'latitude': 27.56, 'longitude': -99.49 }, { 'id': 1087, 'city': 'Irving', 'state': 'TX', 'latitude': 32.86, 'longitude': -96.97 }, { 'id': 1088, 'city': 'Chesapeake', 'state': 'VA', 'latitude': 36.68, 'longitude': -76.3 }, { 'id': 1089, 'city': 'Glendale', 'state': 'AZ', 'latitude': 33.53, 'longitude': -112.19 }, { 'id': 1090, 'city': 'Winston-Salem', 'state': 'NC', 'latitude': 36.1, 'longitude': -80.26 }, { 'id': 1091, 'city': 'Scottsdale', 'state': 'AZ', 'latitude': 33.68, 'longitude': -111.86 }, { 'id': 1092, 'city': 'Garland', 'state': 'TX', 'latitude': 32.91, 'longitude': -96.63 }, { 'id': 1093, 'city': 'Boise', 'state': 'ID', 'latitude': 43.6, 'longitude': -116.23 }, { 'id': 1094, 'city': 'Norfolk', 'state': 'VA', 'latitude': 36.92, 'longitude': -76.24 }, { 'id': 1095, 'city': 'Port St. Lucie', 'state': 'FL', 'latitude': 27.28, 'longitude': -80.39 }, { 'id': 1096, 'city': 'Spokane', 'state': 'WA', 'latitude': 47.67, 'longitude': -117.43 }, { 'id': 1097, 'city': 'Richmond', 'state': 'VA', 'latitude': 37.53, 'longitude': -77.48 }, { 'id': 1098, 'city': 'Fremont', 'state': 'CA', 'latitude': 37.49, 'longitude': -121.94 }, { 'id': 1099, 'city': 'Huntsville', 'state': 'AL', 'latitude': 34.78, 'longitude': -86.53 }, { 'id': 1100, 'city': 'Tacoma', 'state': 'WA', 'latitude': 47.25, 'longitude': -122.46 }, { 'id': 1101, 'city': 'Baton Rouge', 'state': 'LA', 'latitude': 30.44, 'longitude': -91.13 }, { 'id': 1102, 'city': 'Santa Clarita', 'state': 'CA', 'latitude': 34.41, 'longitude': -118.49 }, { 'id': 1103, 'city': 'San Bernardino', 'state': 'CA', 'latitude': 34.14, 'longitude': -117.29 }, { 'id': 1104, 'city': 'Hialeah', 'state': 'FL', 'latitude': 25.87, 'longitude': -80.3 }, { 'id': 1105, 'city': 'Frisco', 'state': 'TX', 'latitude': 33.16, 'longitude': -96.82 }, { 'id': 1106, 'city': 'Modesto', 'state': 'CA', 'latitude': 37.64, 'longitude': -121.0 }, { 'id': 1107, 'city': 'Cape Coral', 'state': 'FL', 'latitude': 26.65, 'longitude': -81.99 }, { 'id': 1108, 'city': 'Fontana', 'state': 'CA', 'latitude': 34.11, 'longitude': -117.46 }, { 'id': 1109, 'city': 'Moreno Valley', 'state': 'CA', 'latitude': 33.92, 'longitude': -117.21 }, { 'id': 1110, 'city': 'Des Moines', 'state': 'IA', 'latitude': 41.57, 'longitude': -93.61 }, { 'id': 1111, 'city': 'Rochester', 'state': 'NY', 'latitude': 43.17, 'longitude': -77.62 }, { 'id': 1112, 'city': 'Fayetteville', 'state': 'NC', 'latitude': 35.08, 'longitude': -78.97 }, { 'id': 1113, 'city': 'Yonkers', 'state': 'NY', 'latitude': 40.95, 'longitude': -73.87 }, { 'id': 1114, 'city': 'McKinney', 'state': 'TX', 'latitude': 33.2, 'longitude': -96.66 }, { 'id': 1115, 'city': 'Worcester', 'state': 'MA', 'latitude': 42.27, 'longitude': -71.81 }, { 'id': 1116, 'city': 'Salt Lake City', 'state': 'UT', 'latitude': 40.78, 'longitude': -111.93 }, { 'id': 1117, 'city': 'Little Rock', 'state': 'AR', 'latitude': 34.72, 'longitude': -92.36 }, { 'id': 1118, 'city': 'Columbus', 'state': 'GA', 'latitude': 32.51, 'longitude': -84.87 }, { 'id': 1119, 'city': 'Augusta', 'state': 'GA', 'latitude': 33.37, 'longitude': -82.07 }, { 'id': 1120, 'city': 'Sioux Falls', 'state': 'SD', 'latitude': 43.54, 'longitude': -96.73 }, { 'id': 1121, 'city': 'Grand Prairie', 'state': 'TX', 'latitude': 32.69, 'longitude': -97.02 }, { 'id': 1122, 'city': 'Tallahassee', 'state': 'FL', 'latitude': 30.46, 'longitude': -84.25 }, { 'id': 1123, 'city': 'Amarillo', 'state': 'TX', 'latitude': 35.2, 'longitude': -101.83 }, { 'id': 1124, 'city': 'Oxnard', 'state': 'CA', 'latitude': 34.2, 'longitude': -119.21 }, { 'id': 1125, 'city': 'Peoria', 'state': 'AZ', 'latitude': 33.79, 'longitude': -112.31 }, { 'id': 1126, 'city': 'Overland Park', 'state': 'KS', 'latitude': 38.89, 'longitude': -94.69 }, { 'id': 1127, 'city': 'Montgomery', 'state': 'AL', 'latitude': 32.35, 'longitude': -86.27 }, { 'id': 1128, 'city': 'Birmingham', 'state': 'AL', 'latitude': 33.53, 'longitude': -86.8 }, { 'id': 1129, 'city': 'Grand Rapids', 'state': 'MI', 'latitude': 42.96, 'longitude': -85.66 }, { 'id': 1130, 'city': 'Knoxville', 'state': 'TN', 'latitude': 35.97, 'longitude': -83.95 }, { 'id': 1131, 'city': 'Vancouver', 'state': 'WA', 'latitude': 45.64, 'longitude': -122.6 }, { 'id': 1132, 'city': 'Huntington Beach', 'state': 'CA', 'latitude': 33.7, 'longitude': -118.0 }, { 'id': 1133, 'city': 'Providence', 'state': 'RI', 'latitude': 41.82, 'longitude': -71.42 }, { 'id': 1134, 'city': 'Brownsville', 'state': 'TX', 'latitude': 26.0, 'longitude': -97.45 }, { 'id': 1135, 'city': 'Glendale', 'state': 'CA', 'latitude': 34.18, 'longitude': -118.25 }, { 'id': 1136, 'city': 'Akron', 'state': 'OH', 'latitude': 41.08, 'longitude': -81.52 }, { 'id': 1137, 'city': 'Tempe', 'state': 'AZ', 'latitude': 33.39, 'longitude': -111.93 }, { 'id': 1138, 'city': 'Newport News', 'state': 'VA', 'latitude': 37.08, 'longitude': -76.52 }, { 'id': 1139, 'city': 'Chattanooga', 'state': 'TN', 'latitude': 35.07, 'longitude': -85.25 }, { 'id': 1140, 'city': 'Mobile', 'state': 'AL', 'latitude': 30.67, 'longitude': -88.1 }, { 'id': 1141, 'city': 'Fort Lauderdale', 'state': 'FL', 'latitude': 26.14, 'longitude': -80.15 }, { 'id': 1142, 'city': 'Cary', 'state': 'NC', 'latitude': 35.78, 'longitude': -78.82 }, { 'id': 1143, 'city': 'Shreveport', 'state': 'LA', 'latitude': 32.47, 'longitude': -93.79 }, { 'id': 1144, 'city': 'Ontario', 'state': 'CA', 'latitude': 34.04, 'longitude': -117.6 }, { 'id': 1145, 'city': 'Eugene', 'state': 'OR', 'latitude': 44.06, 'longitude': -123.12 }, { 'id': 1146, 'city': 'Aurora', 'state': 'IL', 'latitude': 41.76, 'longitude': -88.29 }, { 'id': 1147, 'city': 'Elk Grove', 'state': 'CA', 'latitude': 38.41, 'longitude': -121.38 }, { 'id': 1148, 'city': 'Salem', 'state': 'OR', 'latitude': 44.92, 'longitude': -123.02 }, { 'id': 1149, 'city': 'Santa Rosa', 'state': 'CA', 'latitude': 38.45, 'longitude': -122.71 }, { 'id': 1150, 'city': 'Clarksville', 'state': 'TN', 'latitude': 36.57, 'longitude': -87.35 }, { 'id': 1151, 'city': 'Rancho Cucamonga', 'state': 'CA', 'latitude': 34.12, 'longitude': -117.56 }, { 'id': 1152, 'city': 'Oceanside', 'state': 'CA', 'latitude': 33.22, 'longitude': -117.31 }, { 'id': 1153, 'city': 'Springfield', 'state': 'MO', 'latitude': 37.19, 'longitude': -93.29 }, { 'id': 1154, 'city': 'Pembroke Pines', 'state': 'FL', 'latitude': 26.01, 'longitude': -80.34 }, { 'id': 1155, 'city': 'Garden Grove', 'state': 'CA', 'latitude': 33.78, 'longitude': -117.96 }, { 'id': 1156, 'city': 'Fort Collins', 'state': 'CO', 'latitude': 40.55, 'longitude': -105.06 }, { 'id': 1157, 'city': 'Lancaster', 'state': 'CA', 'latitude': 34.69, 'longitude': -118.18 }, { 'id': 1158, 'city': 'Palmdale', 'state': 'CA', 'latitude': 34.59, 'longitude': -118.11 }, { 'id': 1159, 'city': 'Murfreesboro', 'state': 'TN', 'latitude': 35.85, 'longitude': -86.42 }, { 'id': 1160, 'city': 'Salinas', 'state': 'CA', 'latitude': 36.69, 'longitude': -121.63 }, { 'id': 1161, 'city': 'Corona', 'state': 'CA', 'latitude': 33.86, 'longitude': -117.57 }, { 'id': 1162, 'city': 'Killeen', 'state': 'TX', 'latitude': 31.08, 'longitude': -97.73 }, { 'id': 1163, 'city': 'Hayward', 'state': 'CA', 'latitude': 37.63, 'longitude': -122.1 }, { 'id': 1164, 'city': 'Paterson', 'state': 'NJ', 'latitude': 40.91, 'longitude': -74.16 }, { 'id': 1165, 'city': 'Macon', 'state': 'GA', 'latitude': 32.81, 'longitude': -83.69 }, { 'id': 1166, 'city': 'Lakewood', 'state': 'CO', 'latitude': 39.7, 'longitude': -105.12 }, { 'id': 1167, 'city': 'Alexandria', 'state': 'VA', 'latitude': 38.82, 'longitude': -77.08 }, { 'id': 1168, 'city': 'Roseville', 'state': 'CA', 'latitude': 38.77, 'longitude': -121.32 }, { 'id': 1169, 'city': 'Surprise', 'state': 'AZ', 'latitude': 33.67, 'longitude': -112.45 }, { 'id': 1170, 'city': 'Springfield', 'state': 'MA', 'latitude': 42.12, 'longitude': -72.54 }, { 'id': 1171, 'city': 'Charleston', 'state': 'SC', 'latitude': 32.83, 'longitude': -79.97 }, { 'id': 1172, 'city': 'Kansas City', 'state': 'KS', 'latitude': 39.12, 'longitude': -94.74 }, { 'id': 1173, 'city': 'Sunnyvale', 'state': 'CA', 'latitude': 37.39, 'longitude': -122.03 }, { 'id': 1174, 'city': 'Bellevue', 'state': 'WA', 'latitude': 47.6, 'longitude': -122.16 }, { 'id': 1175, 'city': 'Hollywood', 'state': 'FL', 'latitude': 26.03, 'longitude': -80.16 }, { 'id': 1176, 'city': 'Denton', 'state': 'TX', 'latitude': 33.22, 'longitude': -97.14 }, { 'id': 1177, 'city': 'Escondido', 'state': 'CA', 'latitude': 33.13, 'longitude': -117.07 }, { 'id': 1178, 'city': 'Joliet', 'state': 'IL', 'latitude': 41.52, 'longitude': -88.15 }, { 'id': 1179, 'city': 'Naperville', 'state': 'IL', 'latitude': 41.75, 'longitude': -88.16 }, { 'id': 1180, 'city': 'Bridgeport', 'state': 'CT', 'latitude': 41.19, 'longitude': -73.2 }, { 'id': 1181, 'city': 'Savannah', 'state': 'GA', 'latitude': 32.0, 'longitude': -81.15 }, { 'id': 1182, 'city': 'Mesquite', 'state': 'TX', 'latitude': 32.76, 'longitude': -96.59 }, { 'id': 1183, 'city': 'Pasadena', 'state': 'TX', 'latitude': 29.65, 'longitude': -95.15 }, { 'id': 1184, 'city': 'Rockford', 'state': 'IL', 'latitude': 42.26, 'longitude': -89.06 }, { 'id': 1185, 'city': 'Pomona', 'state': 'CA', 'latitude': 34.06, 'longitude': -117.76 }, { 'id': 1186, 'city': 'Jackson', 'state': 'MS', 'latitude': 32.32, 'longitude': -90.21 }, { 'id': 1187, 'city': 'Olathe', 'state': 'KS', 'latitude': 38.88, 'longitude': -94.82 }, { 'id': 1188, 'city': 'Gainesville', 'state': 'FL', 'latitude': 29.68, 'longitude': -82.35 }, { 'id': 1189, 'city': 'McAllen', 'state': 'TX', 'latitude': 26.22, 'longitude': -98.25 }, { 'id': 1190, 'city': 'Syracuse', 'state': 'NY', 'latitude': 43.04, 'longitude': -76.14 }, { 'id': 1191, 'city': 'Waco', 'state': 'TX', 'latitude': 31.56, 'longitude': -97.19 }, { 'id': 1192, 'city': 'Visalia', 'state': 'CA', 'latitude': 36.33, 'longitude': -119.33 }, { 'id': 1193, 'city': 'Thornton', 'state': 'CO', 'latitude': 39.92, 'longitude': -104.94 }, { 'id': 1194, 'city': 'Torrance', 'state': 'CA', 'latitude': 33.83, 'longitude': -118.36 }, { 'id': 1195, 'city': 'Fullerton', 'state': 'CA', 'latitude': 33.89, 'longitude': -117.93 }, { 'id': 1196, 'city': 'Columbia', 'state': 'SC', 'latitude': 34.04, 'longitude': -80.91 }, { 'id': 1197, 'city': 'Lakewood', 'state': 'NJ', 'latitude': 40.08, 'longitude': -74.2 }, { 'id': 1198, 'city': 'New Haven', 'state': 'CT', 'latitude': 41.31, 'longitude': -72.92 }, { 'id': 1199, 'city': 'Hampton', 'state': 'VA', 'latitude': 37.05, 'longitude': -76.3 }, { 'id': 1200, 'city': 'Miramar', 'state': 'FL', 'latitude': 25.97, 'longitude': -80.34 }, { 'id': 1201, 'city': 'Victorville', 'state': 'CA', 'latitude': 34.53, 'longitude': -117.35 }, { 'id': 1202, 'city': 'Warren', 'state': 'MI', 'latitude': 42.49, 'longitude': -83.03 }, { 'id': 1203, 'city': 'West Valley City', 'state': 'UT', 'latitude': 40.69, 'longitude': -112.01 }, { 'id': 1204, 'city': 'Cedar Rapids', 'state': 'IA', 'latitude': 41.97, 'longitude': -91.68 }, { 'id': 1205, 'city': 'Stamford', 'state': 'CT', 'latitude': 41.08, 'longitude': -73.55 }, { 'id': 1206, 'city': 'Orange', 'state': 'CA', 'latitude': 33.79, 'longitude': -117.86 }, { 'id': 1207, 'city': 'Dayton', 'state': 'OH', 'latitude': 39.78, 'longitude': -84.2 }, { 'id': 1208, 'city': 'Midland', 'state': 'TX', 'latitude': 32.02, 'longitude': -102.11 }, { 'id': 1209, 'city': 'Kent', 'state': 'WA', 'latitude': 47.39, 'longitude': -122.21 }, { 'id': 1210, 'city': 'Elizabeth', 'state': 'NJ', 'latitude': 40.67, 'longitude': -74.19 }, { 'id': 1211, 'city': 'Pasadena', 'state': 'CA', 'latitude': 34.16, 'longitude': -118.14 }, { 'id': 1212, 'city': 'Carrollton', 'state': 'TX', 'latitude': 32.99, 'longitude': -96.9 }, { 'id': 1213, 'city': 'Coral Springs', 'state': 'FL', 'latitude': 26.27, 'longitude': -80.26 }, { 'id': 1214, 'city': 'Sterling Heights', 'state': 'MI', 'latitude': 42.58, 'longitude': -83.03 }, { 'id': 1215, 'city': 'Fargo', 'state': 'ND', 'latitude': 46.86, 'longitude': -96.83 }, { 'id': 1216, 'city': 'Lewisville', 'state': 'TX', 'latitude': 33.05, 'longitude': -96.98 }, { 'id': 1217, 'city': 'Meridian', 'state': 'ID', 'latitude': 43.61, 'longitude': -116.4 }, { 'id': 1218, 'city': 'Norman', 'state': 'OK', 'latitude': 35.24, 'longitude': -97.35 }, { 'id': 1219, 'city': 'Palm Bay', 'state': 'FL', 'latitude': 27.96, 'longitude': -80.66 }, { 'id': 1220, 'city': 'Athens', 'state': 'GA', 'latitude': 33.95, 'longitude': -83.37 }, { 'id': 1221, 'city': 'Columbia', 'state': 'MO', 'latitude': 38.95, 'longitude': -92.33 }, { 'id': 1222, 'city': 'Abilene', 'state': 'TX', 'latitude': 32.45, 'longitude': -99.74 }, { 'id': 1223, 'city': 'Pearland', 'state': 'TX', 'latitude': 29.56, 'longitude': -95.32 }, { 'id': 1224, 'city': 'Santa Clara', 'state': 'CA', 'latitude': 37.36, 'longitude': -121.97 }, { 'id': 1225, 'city': 'Round Rock', 'state': 'TX', 'latitude': 30.53, 'longitude': -97.66 }, { 'id': 1226, 'city': 'Topeka', 'state': 'KS', 'latitude': 39.03, 'longitude': -95.69 }, { 'id': 1227, 'city': 'Allentown', 'state': 'PA', 'latitude': 40.59, 'longitude': -75.48 }, { 'id': 1228, 'city': 'Clovis', 'state': 'CA', 'latitude': 36.83, 'longitude': -119.68 }, { 'id': 1229, 'city': 'Simi Valley', 'state': 'CA', 'latitude': 34.27, 'longitude': -118.75 }, { 'id': 1230, 'city': 'College Station', 'state': 'TX', 'latitude': 30.59, 'longitude': -96.3 }, { 'id': 1231, 'city': 'Thousand Oaks', 'state': 'CA', 'latitude': 34.19, 'longitude': -118.87 }, { 'id': 1232, 'city': 'Vallejo', 'state': 'CA', 'latitude': 38.11, 'longitude': -122.26 }, { 'id': 1233, 'city': 'Concord', 'state': 'CA', 'latitude': 37.97, 'longitude': -122.0 }, { 'id': 1234, 'city': 'Rochester', 'state': 'MN', 'latitude': 44.02, 'longitude': -92.48 }, { 'id': 1235, 'city': 'Arvada', 'state': 'CO', 'latitude': 39.83, 'longitude': -105.15 }, { 'id': 1236, 'city': 'Lafayette', 'state': 'LA', 'latitude': 30.21, 'longitude': -92.03 }, { 'id': 1237, 'city': 'Independence', 'state': 'MO', 'latitude': 39.09, 'longitude': -94.35 }, { 'id': 1238, 'city': 'West Palm Beach', 'state': 'FL', 'latitude': 26.75, 'longitude': -80.13 }, { 'id': 1239, 'city': 'Hartford', 'state': 'CT', 'latitude': 41.77, 'longitude': -72.68 }, { 'id': 1240, 'city': 'Wilmington', 'state': 'NC', 'latitude': 34.21, 'longitude': -77.89 }, { 'id': 1241, 'city': 'Lakeland', 'state': 'FL', 'latitude': 28.06, 'longitude': -81.95 }, { 'id': 1242, 'city': 'Billings', 'state': 'MT', 'latitude': 45.79, 'longitude': -108.55 }, { 'id': 1243, 'city': 'Ann Arbor', 'state': 'MI', 'latitude': 42.28, 'longitude': -83.73 }, { 'id': 1244, 'city': 'Fairfield', 'state': 'CA', 'latitude': 38.26, 'longitude': -122.03 }, { 'id': 1245, 'city': 'Berkeley', 'state': 'CA', 'latitude': 37.87, 'longitude': -122.3 }, { 'id': 1246, 'city': 'Richardson', 'state': 'TX', 'latitude': 32.97, 'longitude': -96.71 }, { 'id': 1247, 'city': 'North Charleston', 'state': 'SC', 'latitude': 32.92, 'longitude': -80.07 }, { 'id': 1248, 'city': 'Cambridge', 'state': 'MA', 'latitude': 42.38, 'longitude': -71.12 }, { 'id': 1249, 'city': 'Broken Arrow', 'state': 'OK', 'latitude': 36.04, 'longitude': -95.78 }, { 'id': 1250, 'city': 'Clearwater', 'state': 'FL', 'latitude': 27.98, 'longitude': -82.77 }, { 'id': 1251, 'city': 'West Jordan', 'state': 'UT', 'latitude': 40.6, 'longitude': -112.0 }, { 'id': 1252, 'city': 'Evansville', 'state': 'IN', 'latitude': 37.99, 'longitude': -87.53 }, { 'id': 1253, 'city': 'League City', 'state': 'TX', 'latitude': 29.49, 'longitude': -95.11 }, { 'id': 1254, 'city': 'Antioch', 'state': 'CA', 'latitude': 37.98, 'longitude': -121.8 }, { 'id': 1255, 'city': 'Manchester', 'state': 'NH', 'latitude': 42.98, 'longitude': -71.44 }, { 'id': 1256, 'city': 'High Point', 'state': 'NC', 'latitude': 35.99, 'longitude': -79.99 }, { 'id': 1257, 'city': 'Waterbury', 'state': 'CT', 'latitude': 41.56, 'longitude': -73.04 }, { 'id': 1258, 'city': 'Westminster', 'state': 'CO', 'latitude': 39.88, 'longitude': -105.06 }, { 'id': 1259, 'city': 'Richmond', 'state': 'CA', 'latitude': 37.95, 'longitude': -122.36 }, { 'id': 1260, 'city': 'Carlsbad', 'state': 'CA', 'latitude': 33.13, 'longitude': -117.28 }, { 'id': 1261, 'city': 'Las Cruces', 'state': 'NM', 'latitude': 32.33, 'longitude': -106.79 }, { 'id': 1262, 'city': 'Murrieta', 'state': 'CA', 'latitude': 33.57, 'longitude': -117.19 }, { 'id': 1263, 'city': 'Lowell', 'state': 'MA', 'latitude': 42.64, 'longitude': -71.32 }, { 'id': 1264, 'city': 'Provo', 'state': 'UT', 'latitude': 40.25, 'longitude': -111.65 }, { 'id': 1265, 'city': 'Springfield', 'state': 'IL', 'latitude': 39.79, 'longitude': -89.64 }, { 'id': 1266, 'city': 'Elgin', 'state': 'IL', 'latitude': 42.04, 'longitude': -88.33 }, { 'id': 1267, 'city': 'Odessa', 'state': 'TX', 'latitude': 31.88, 'longitude': -102.35 }, { 'id': 1268, 'city': 'Lansing', 'state': 'MI', 'latitude': 42.71, 'longitude': -84.56 }, { 'id': 1269, 'city': 'Pompano Beach', 'state': 'FL', 'latitude': 26.24, 'longitude': -80.13 }, { 'id': 1270, 'city': 'Beaumont', 'state': 'TX', 'latitude': 30.08, 'longitude': -94.15 }, { 'id': 1271, 'city': 'Temecula', 'state': 'CA', 'latitude': 33.49, 'longitude': -117.13 }, { 'id': 1272, 'city': 'Gresham', 'state': 'OR', 'latitude': 45.5, 'longitude': -122.44 }, { 'id': 1273, 'city': 'Allen', 'state': 'TX', 'latitude': 33.11, 'longitude': -96.67 }, { 'id': 1274, 'city': 'Pueblo', 'state': 'CO', 'latitude': 38.27, 'longitude': -104.61 }, { 'id': 1275, 'city': 'Everett', 'state': 'WA', 'latitude': 47.95, 'longitude': -122.19 }, { 'id': 1276, 'city': 'South Fulton', 'state': 'GA', 'latitude': 33.66, 'longitude': -84.57 }, { 'id': 1277, 'city': 'Peoria', 'state': 'IL', 'latitude': 40.75, 'longitude': -89.62 }, { 'id': 1278, 'city': 'Nampa', 'state': 'ID', 'latitude': 43.58, 'longitude': -116.56 }, { 'id': 1279, 'city': 'Tuscaloosa', 'state': 'AL', 'latitude': 33.23, 'longitude': -87.53 }, { 'id': 1280, 'city': 'Miami Gardens', 'state': 'FL', 'latitude': 25.95, 'longitude': -80.24 }, { 'id': 1281, 'city': 'Santa Maria', 'state': 'CA', 'latitude': 34.93, 'longitude': -120.44 }, { 'id': 1282, 'city': 'Downey', 'state': 'CA', 'latitude': 33.94, 'longitude': -118.13 }, { 'id': 1283, 'city': 'Concord', 'state': 'NC', 'latitude': 35.39, 'longitude': -80.64 }, { 'id': 1284, 'city': 'Ventura', 'state': 'CA', 'latitude': 34.27, 'longitude': -119.25 }, { 'id': 1285, 'city': 'Costa Mesa', 'state': 'CA', 'latitude': 33.67, 'longitude': -117.91 }, { 'id': 1286, 'city': 'Sugar Land', 'state': 'TX', 'latitude': 29.59, 'longitude': -95.63 }, { 'id': 1287, 'city': 'Menifee', 'state': 'CA', 'latitude': 33.69, 'longitude': -117.18 }, { 'id': 1288, 'city': 'Tyler', 'state': 'TX', 'latitude': 32.32, 'longitude': -95.31 }, { 'id': 1289, 'city': 'Sparks', 'state': 'NV', 'latitude': 39.57, 'longitude': -119.72 }, { 'id': 1290, 'city': 'Greeley', 'state': 'CO', 'latitude': 40.41, 'longitude': -104.77 }, { 'id': 1291, 'city': 'Rio Rancho', 'state': 'NM', 'latitude': 35.29, 'longitude': -106.7 }, { 'id': 1292, 'city': 'Sandy Springs', 'state': 'GA', 'latitude': 33.93, 'longitude': -84.37 }, { 'id': 1293, 'city': 'Dearborn', 'state': 'MI', 'latitude': 42.31, 'longitude': -83.21 }, { 'id': 1294, 'city': 'Jurupa Valley', 'state': 'CA', 'latitude': 34.0, 'longitude': -117.47 }, { 'id': 1295, 'city': 'Edison', 'state': 'NJ', 'latitude': 40.5, 'longitude': -74.35 }, { 'id': 1296, 'city': 'Spokane Valley', 'state': 'WA', 'latitude': 47.66, 'longitude': -117.23 }, { 'id': 1297, 'city': 'Hillsboro', 'state': 'OR', 'latitude': 45.53, 'longitude': -122.94 }, { 'id': 1298, 'city': 'Davie', 'state': 'FL', 'latitude': 26.08, 'longitude': -80.28 }, { 'id': 1299, 'city': 'Green Bay', 'state': 'WI', 'latitude': 44.52, 'longitude': -87.99 }, { 'id': 1300, 'city': 'Centennial', 'state': 'CO', 'latitude': 39.59, 'longitude': -104.87 }, { 'id': 1301, 'city': 'Buckeye', 'state': 'AZ', 'latitude': 33.43, 'longitude': -112.64 }, { 'id': 1302, 'city': 'Boulder', 'state': 'CO', 'latitude': 40.02, 'longitude': -105.25 }, { 'id': 1303, 'city': 'Goodyear', 'state': 'AZ', 'latitude': 33.25, 'longitude': -112.37 }, { 'id': 1304, 'city': 'El Monte', 'state': 'CA', 'latitude': 34.07, 'longitude': -118.03 }, { 'id': 1305, 'city': 'West Covina', 'state': 'CA', 'latitude': 34.06, 'longitude': -117.91 }, { 'id': 1306, 'city': 'Brockton', 'state': 'MA', 'latitude': 42.08, 'longitude': -71.02 }, { 'id': 1307, 'city': 'New Braunfels', 'state': 'TX', 'latitude': 29.7, 'longitude': -98.12 }, { 'id': 1308, 'city': 'El Cajon', 'state': 'CA', 'latitude': 32.8, 'longitude': -116.96 }, { 'id': 1309, 'city': 'Edinburg', 'state': 'TX', 'latitude': 26.32, 'longitude': -98.16 }, { 'id': 1310, 'city': 'Renton', 'state': 'WA', 'latitude': 47.48, 'longitude': -122.19 }, { 'id': 1311, 'city': 'Burbank', 'state': 'CA', 'latitude': 34.19, 'longitude': -118.33 }, { 'id': 1312, 'city': 'Inglewood', 'state': 'CA', 'latitude': 33.96, 'longitude': -118.34 }, { 'id': 1313, 'city': 'Rialto', 'state': 'CA', 'latitude': 34.12, 'longitude': -117.39 }, { 'id': 1314, 'city': "Lee's Summit", 'state': 'MO', 'latitude': 38.92, 'longitude': -94.38 }, { 'id': 1315, 'city': 'Bend', 'state': 'OR', 'latitude': 44.06, 'longitude': -121.31 }, { 'id': 1316, 'city': 'Woodbridge', 'state': 'NJ', 'latitude': 40.56, 'longitude': -74.29 }, { 'id': 1317, 'city': 'South Bend', 'state': 'IN', 'latitude': 41.68, 'longitude': -86.27 }, { 'id': 1318, 'city': 'Wichita Falls', 'state': 'TX', 'latitude': 33.91, 'longitude': -98.53 }, { 'id': 1319, 'city': 'St. George', 'state': 'UT', 'latitude': 37.08, 'longitude': -113.56 }, { 'id': 1320, 'city': 'Fishers', 'state': 'IN', 'latitude': 39.96, 'longitude': -85.97 }, { 'id': 1321, 'city': 'Carmel', 'state': 'IN', 'latitude': 39.97, 'longitude': -86.15 }, { 'id': 1322, 'city': 'Vacaville', 'state': 'CA', 'latitude': 38.36, 'longitude': -121.97 }, { 'id': 1323, 'city': 'Quincy', 'state': 'MA', 'latitude': 42.26, 'longitude': -71.01 }, { 'id': 1324, 'city': 'Conroe', 'state': 'TX', 'latitude': 30.32, 'longitude': -95.49 }, { 'id': 1325, 'city': 'Chico', 'state': 'CA', 'latitude': 39.76, 'longitude': -121.82 }, { 'id': 1326, 'city': 'San Mateo', 'state': 'CA', 'latitude': 37.56, 'longitude': -122.31 }, { 'id': 1327, 'city': 'Lynn', 'state': 'MA', 'latitude': 42.47, 'longitude': -70.96 }, { 'id': 1328, 'city': 'Albany', 'state': 'NY', 'latitude': 42.67, 'longitude': -73.8 }, { 'id': 1329, 'city': 'Hesperia', 'state': 'CA', 'latitude': 34.4, 'longitude': -117.32 }, { 'id': 1330, 'city': 'New Bedford', 'state': 'MA', 'latitude': 41.66, 'longitude': -70.94 }, { 'id': 1331, 'city': 'Davenport', 'state': 'IA', 'latitude': 41.56, 'longitude': -90.6 }, { 'id': 1332, 'city': 'Daly City', 'state': 'CA', 'latitude': 37.69, 'longitude': -122.47 }]
    let closestDist = null;
    let closestCity = null;
    for (let i = 0; i < MAJORCITIES.length; i++) {
        let city = MAJORCITIES[i];
        let distance = pointToPointCalc(city.latitude, city.longitude, geoCenter[0], geoCenter[1]);
        if (closestCity === null || distance < closestDist) {
            closestCity = city;
            closestDist = distance;
        }
    };
    console.log(closestCity);
    return [closestCity.city, closestCity.state, closestCity.latitude, closestCity.longitude, closestCity.id];
}

export { pointToPointCalc, distanceCalc, averageDistanceCalc, calculateConvexHull, averagedistanceCalcMultiPoints, avgDistanceFromCenter, calculateGeoCenter, findCapital };